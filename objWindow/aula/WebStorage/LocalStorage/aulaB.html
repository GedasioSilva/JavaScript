<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalStorage (Web Storage) - P1</title>
</head>
<!-- Alterar a cor e letra de funto salvando nas variaveis -->
<!-- Salva as alterações mesmo fechando o navegador -->
<style>
    #fconf{
        position: absolute;
        top: 0px;
        left: 0px;
        border: 1px solid black;
        background-color: #888;
        padding: 20px;
        border-radius: 5px;
        display: none;
    }
</style>
<script>
var vcorf,vcort,vnome;
    function inicia(){
        if(localStorage.nome){
             vcorf = localStorage.corf;
             vcort = localStorage.cort;
            vnome = localStorage.nome;
            defineCor(1,vcorf);
            defineCor(2,vcort);
            document.getElementById("painel").innerHTML = "Bem Vindo " + vnome + "<hr>";
        }
    }

        function gravar(){
            var form = document.getElementById("fconf");
            vnome = document.getElementById("fnome").value;
            localStorage.corf = vcorf;
            localStorage.cort = vcort;
            localStorage.nome = vnome;
            form.style.display="none";
        }

        function defineCor(op,cor){
            if(op ==1){
             document.body.style.backgroundColor = cor;
             vcorf = cor;  
            }else{
                document.body.style.color = cor;
                vcort = cor;
            }
        }
        
        function mostraConf(){
            var form = document.getElementById("fconf");
            form.style.display= "block";
        }


        window.addEventListener("load",inicia);
</script>
<body>

    <p>LocalStorage - Curso de JavaScript </p>
    <p id="painel"></p>

    <button onclick="mostraConf()">Configurações </button>

    <form name="fconf" id="fconf">
        <label>Nome: </label>
        <input type="text" name="fnome" id="fnome" size="20"><br><br>

        <label>Cor de Fundo</label><br>
        <input type="radio" name="fcorF" onclick="defineCor(1,'#000')">Preto<br>
        <input type="radio" name="fcorF" onclick="defineCor(1,'#fff')">Branco<br>
        <input type="radio" name="fcorF" onclick="defineCor(1,'#f00')">Vermelhor<br>
        <input type="radio" name="fcorF" onclick="defineCor(1,'#0f0')">Verde<br>
        <input type="radio" name="fcorF" onclick="defineCor(1,'#00f')">Azul<br><br>

        <label>Cor Texto</label><br>
        <input type="radio" name="fcorT" onclick="defineCor(2,'#000')">Preto<br>
        <input type="radio" name="fcorT" onclick="defineCor(2,'#fff')">Branco<br>
        <input type="button" value="Gravar" onclick="gravar()">




    </form>
</body>
</html>